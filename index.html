<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>myTask1</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="css/main.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.6.15/browser.js"></script>
    
</head>
<body>
	<div class="container main" >
		<div class="col-md-6 col-md-offset-3 jumbotron" id="main">
			
		</div>
	</div>
	
	<script type="text/babel">
        var LoginForm = React.createClass({
        getInitialState() {		
         return {
              email: '',
              password: '',
              message: null
          };
        },
    	
        handleSubmit(e){
        	e.preventDefault();
            	this.setState({message: null});
                    let {email, password} = this.state;
            		
            		console.log('state', this.state);
    
               
                    
                    if(password.length < 8) {
                        this.setState({message: 'Password shoul be at least 8 characters'});
                        this.setState({password: ''})
                        return;
                    }
                    if(email==='') {
                        this.setState({message: 'Email must be filled '});
                        return;
                    }
                    


                    //action="" + if need set to zero inputs - this.setState({email: '', password: ''}); /^[^\s@]+@[^\s@]+\.[^\s@]+$/
            },
            render: function() {
                return (
                    <div>               
                        <div>{this.state.message}</div>


                        <form onSubmit={this.handleSubmit}>
                            <div className="form-group">
                                <label htmlFor="email">Email address:</label>
                                <input type="email" className="form-control" id="email" value={this.state.email}
                                       onChange={(e) => this.setState({email: e.target.value})}
                                />
                            </div>
                            <div className="form-group">
                                <label htmlFor="pwd">Password:</label>
                                <input type="password" className="form-control" id="pwd" value={this.state.password}
                                       onChange={(e) => this.setState({password: e.target.value})}
                                />
                            </div>
                            <button type="submit" className="btn btn-default">Submit</button>
                        </form>
                    </div>

                );
            }
        });

        
		ReactDOM.render(<LoginForm/>, document.getElementById('main'));


        function validEmail(str){
            return /^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/.test(str);
        }









		

    </script>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</body>
</html>